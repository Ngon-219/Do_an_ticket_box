@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@model List<Do_an_ticket_box.Models.EventTicketViewModel>;
@{
    ViewBag.Title = "Kết quả tìm kiếm";
}
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<style>
.body-search {
    background-color: #000000; /*212529*/
    color: white;
}

.title-search{
    font-size: 20px;
    font-weight: bold;
    padding-top: 20px;
    padding-left: 30px;
    color: #28a745;
}

.result-error {
    display: flex;
    flex-direction: column;
    -webkit-box-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    align-items: center;
    width: 100%;
    color: white;
}

.recomment-search{
    padding-left: 40px;
    padding-right: 40px;
}

.recomment-content{
    display: flex;;
    flex-direction: column;
    -webkit-box-pack: center;
    justify-content: center;
    -webkit-box-align: center;
    align-items: center;
    width: 100%;
    padding-top: 20px;
}

.container-search {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Tối đa 4 cột */
    gap: 5px;
    padding: 15px;
}

/* Media query cho màn hình nhỏ */
@@media (max-width: 650px) {
    .container-search {
        grid-template-columns: 1fr;
    }
}

.result {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 5px;
}

.event-card {
    cursor: pointer;
    background-color: black;
    border-radius: 10px;
    overflow: hidden;
    width: 100%;
    max-width: 250px;
    text-align: center;
}

.event-card img {
    width: 100%;
    height: 150px;
    display: block;
}

.event-info {
    padding: 15px;
    background-color: #303030;
    text-align: left;
}

.event-info h2 {
    font-size: 1.2rem;
    font-weight: bold;
    margin: 5px 0 3px 0;
    color: #ffffff;
}

.event-info p {
    font-size: 1rem;
    color: #ffffff;
    margin: 3px 0;
    font-weight: 600 !important;
}

p.price-search {
    font-weight: 600 !important;
    color: #28a745;
}

    a {
        text-decoration: none;
    }
</style>


<body class="body-search">
    <div class="title-search">
        <p>Kết quả tìm kiếm:</p>
    </div>

    @if (Model != null && Model.Any())
    {
        <div>
            
               
                <div class="container-search">
                @foreach (var item in Model)
                {
                    <div class="result">
                        <div class="event-card" style="cursor: pointer;" id="item-card">
                            <a href="@Url.Action("Ticket", "Home", new { id = item.Event_ID })">
                            <img src="@item.Event_image" alt="8WONDER Winter 2024">
                            <div class="event-info">
                                <h2>@item.Event_Name</h2>
                                <p class="price-search">Từ @(item.Price.HasValue ? item.Price.Value.ToString("N0") : "N/A") VND</p>
                                <p><i class="fas fa-calendar-alt"></i> @item.Event_Date.ToString("dd MMM, yyyy")</p>
                            </div>
                            </a>
                        </div>
                    </div>                
            }
            </div>
            
        </div>
        <div class="result-error">
        <hr style="width: 70%; height: 2px">
        </div>
        <div class="recomment-search">
            <div class="recomment-content">
                Gợi ý dành cho bạn
            </div>
            <div class="container-search">
                @foreach (var ticket in ViewBag.AllTickets)
                {
                    <a href="@Url.Action("Ticket", "Home", new { id = ticket.Event_ID })">
                    <div class="result">
                        <div class="event-card" style="cursor: pointer;" id="item-card">
                            <img src="@ticket.Event_image" alt="@ticket.Event_Name">
                            <div class="event-info">
                                <h2>@ticket.Event_Name</h2>
                                    <p class="price-search">Từ @(ticket.Price.ToString("N0")) VND</p>
                                <p><i class="fas fa-calendar-alt"></i> @ticket.Event_Date.ToString("dd MMM, yyyy")</p>
                            </div>
                        </div>
                    </div>
                    </a>
                }
            </div>
        </div>
    }
    else
    {
        <div class="result-error">
            <span>
                <img src="https://ticketbox.vn/_next/image?url=%2F_next%2Fstatic%2Fimages%2Fempty.png&w=256&q=75" alt="">
            </span>
            <div>
                Rất tiếc! Không tìm thấy kết quả nào
            </div>
            <div>
                Vui lòng thử lại với từ khóa khác!
            </div>
            <hr style="width: 70%; height: 2px">
        </div>
        <div class="recomment-search">
            <div class="recomment-content">
                Gợi ý dành cho bạn
            </div>
             <div class="container-search">
                 @foreach (var ticket in ViewBag.AllTickets)
                 {         
                     <a href="@Url.Action("Ticket", "Home", new { id = ticket.Event_ID })">
                         <div class="result">
                             <div class="event-card" style="cursor: pointer;" id="item-card">
                            <img src="@ticket.Event_image" alt="@ticket.Event_Name">
                                 <div class="event-info">
                                     <h2>@ticket.Event_Name</h2>
                                    <p class="price-search">Từ @(ticket.Price.ToString("N0")) VND</p>
                                     <p><i class="fas fa-calendar-alt"></i> @ticket.Event_Date.ToString("dd MMM, yyyy")</p>
                                 </div>
                             </div>
                         </div> 
                    </a>
                 }
             </div>
        </div>
    }
</body>